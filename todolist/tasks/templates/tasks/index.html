{% extends "tasks/skeleton.html" %}
{% load tasks_tags i18n static %}

{% block tasks %}

<p><button class="button" data-open="create-modal">New Task</button></p>

        <form action="." method="get" autocomplete="off">
          {{ filter_form }}
          <input type="submit" class="button" value={% trans "Submit" %}>
        </form>

<div >
<ul class="grid-x grid-margin-x small-up-2 medium-up-4 large-up-5">

  {% for task in tasks %}
  <li class="cell">
    {{ task.description }}
    <form action="{% url 'update' task.pk %}" method="post">
      {% csrf_token %}
      {% get_update_form_for task %}
      <input type="submit" class="button" value= {% trans "Update" %}>
    </form>
    <a  href="{% url 'delete' task.pk %}">{% trans "Delete"%}</a>
  </li>

  {% endfor %}
</ul>
</div>

{% endblock %}

{% block 'js' %}
<!-- This is the first modal -->
<div class="reveal" id="create-modal" data-reveal>
  <form action="." method="post" autocomplete="off">
    {% csrf_token %}
    {{ create_form }}
    <input type="submit" class="button" value= {% trans "Submit" %}>
  </form>
  <button class="close-button" data-close aria-label="Close reveal" type="button">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endblock %}
